:root { --dark-bg: #1e2226; --dark-card: #2a3036; --border-col: #495057; --txt-main: #ecf0f1; --txt-muted: #adb5bd; --c-blue: #3498db; --c-green: #2ecc71; --c-orange: #f39c12; --c-red: #e74c3c; }
html, body { height: 100%; min-height: 100%; }
body { overflow-x: hidden; }
.wrapper { min-height: 100vh; height: auto; }
#main { min-height: 100vh; height: auto; overflow: visible; }
.main-container { min-height: calc(100vh - 55px); height: auto; overflow: visible; }
.card-solid { background: var(--dark-card); color: var(--txt-main); border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.3); border-radius: 8px; }
.card-header-solid { background: #23272b; padding: 12px 20px; border-bottom: 2px solid var(--border-col); display: flex; justify-content: space-between; align-items: center; border-radius: 8px 8px 0 0; }
.card-footer-solid { background: #23272b; padding: 10px 16px; border-top: 1px solid var(--border-col); border-radius: 0 0 8px 8px; width: 100%; box-sizing: border-box; }
.table-dark-solid { width: 100%; border-collapse: separate; border-spacing: 0; }
.table-dark-solid th { background: #1b1e21; padding: 12px; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; color: var(--txt-muted); border-bottom: 2px solid var(--border-col); }
.table-dark-solid td { padding: 12px; border-bottom: 1px solid #3a4046; vertical-align: middle; font-size: 0.9rem; }
.table-dark-solid tr:hover td { background: #32383e; }
.unit-stack { font-family: monospace; font-size: 12px; line-height: 1.2; }
.unit-wartel { color: #52c41a; }
.unit-kamtib { color: #4ea8ff; }
.hp-notes { max-width: 150px; white-space: normal !important; word-break: break-word; line-height: 1.3; text-align: right; }
.summary-badge { display:inline-block; font-size:11px; padding:2px 8px; border:1px solid #495057; margin-right:6px; background:#2b3137; color:#e9ecef; }
.badge-wartel { background:#1f3b2b; border-color:#2f6b4a; color:#7ee2a8; }
.badge-kamtib { background:#223049; border-color:#355a8f; color:#9cc7ff; }
.text-green { color:#2ecc71; }
.summary-grid { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
.tx-pager { display:flex; gap:6px; justify-content:center; align-items:center; padding:10px; }
.tx-pager a, .tx-pager span { background:#343a40; border:1px solid var(--border-col); color:#fff; padding:4px 10px; border-radius:6px; font-size:12px; text-decoration:none; }
.tx-pager .active { background:#4ea8ff; border-color:#4ea8ff; color:#0b1220; font-weight:700; }
.hp-total-bar { display:flex; gap:12px; flex-wrap:wrap; padding:10px 14px; border-top:1px solid var(--border-col); background:#262b31; color:var(--txt-muted); font-size:12px; }
.hp-total-bar b { color:#fff; }
.summary-card { background: #23272b; border: 1px solid var(--border-col); border-radius: 8px; padding: 14px; }
.summary-title { font-size: 0.8rem; color: var(--txt-muted); text-transform: uppercase; letter-spacing: 1px; }
.summary-value { font-size: 1.4rem; font-weight: 700; margin-top: 6px; }
.status-badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 700; text-transform: uppercase; }
.st-normal { background: #4b545c; color: #ccc; border: 1px solid #6c757d; }
.st-retur { background: #8e44ad; color: #fff; }
.st-rusak { background: var(--c-orange); color: #fff; }
.st-invalid { background: var(--c-red); color: #fff; }
.filter-bar { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
.filter-bar select, .filter-bar input { background: #343a40; border: 1px solid var(--border-col); color: #fff; padding: 6px 10px; border-radius: 6px; }
.btn-print { background: var(--c-blue); color: #fff; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; }
.modal-backdrop { position: fixed; inset: 0; background: rgba(18,18,18,0.95); display: none; align-items: center; justify-content: center; z-index: 10000; }
.modal-card { background: #2c2c2c; color: #e0e0e0; border-radius: 8px; width: 520px; max-width: 92vw; border: 1px solid #444; box-shadow: 0 10px 30px rgba(0,0,0,0.5); overflow: hidden; }
.modal-header { background: #252525; border-bottom: 1px solid #3d3d3d; padding: 20px; display: flex; align-items: center; justify-content: space-between; }
.modal-title { font-weight: 600; color: #fff; font-size: 18px; margin: 0; }
.modal-close { background: transparent; border: none; color: #fff; opacity: 0.7; font-size: 22px; line-height: 1; cursor: pointer; }
.modal-close:hover { opacity: 1; }
.modal-body { padding: 25px; color: #ccc; }
.modal-footer { background: #252525; border-top: 1px solid #3d3d3d; padding: 15px 25px; display: flex; gap: 8px; justify-content: flex-end; }
.modal-note { font-size: 12px; color: #9aa0a6; margin-top: 8px; line-height: 1.4; }
.btn-default-dark { background:#424242; color:#fff; border:1px solid #555; }
.btn-default-dark:hover { background:#505050; color:#fff; }
.modal-actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 12px; }
.form-input { width: 100%; background: #343a40; border: 1px solid var(--border-col); color: #fff; padding: 8px 10px; border-radius: 6px; }
.form-grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.form-grid-1 { display: block; }
.btn-act { display: inline-flex; align-items: center; justify-content: center; width: 30px; height: 30px; border-radius: 4px; border: none; color: #fff; background: #3a4046; cursor: pointer; }
.btn-act-danger { background: #e74c3c; }
.audit-neg { color:#ff6b6b; font-weight:700; }
.audit-pos { color:#8bd0ff; font-weight:700; }
.audit-zero { color:var(--txt-muted); }
.audit-user-picker { position: relative; }
.audit-user-chips { display:flex; flex-wrap:wrap; gap:6px; margin-bottom:6px; }
.audit-user-chip { display:inline-flex; align-items:center; gap:6px; background:#343a40; border:1px solid var(--border-col); color:#e9ecef; border-radius:999px; padding:2px 8px; font-size:12px; }
.audit-user-chip button { background:transparent; border:none; color:#fff; cursor:pointer; font-size:12px; line-height:1; padding:0; }
.audit-user-suggest { position:absolute; left:0; right:0; top:100%; background:#1f2328; border:1px solid #5a646e; border-radius:6px; max-height:180px; overflow:auto; z-index:10002; display:none; margin-top:4px; box-shadow:0 8px 18px rgba(0,0,0,0.45); }
.audit-user-suggest .item { padding:7px 10px; cursor:pointer; font-size:12px; color:#e6edf3; border-bottom:1px solid #2c3238; }
.audit-user-suggest .item:last-child { border-bottom:none; }
.audit-user-suggest .item:hover { background:#2b3137; }
.audit-user-trigger {
	width: 100%;
	background: #343a40;
	border: 1px solid var(--border-col);
	color: #e9ecef;
	padding: 10px 12px;
	border-radius: 6px;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 8px;
	cursor: pointer;
	font-size: 12px;
}
.audit-user-trigger:hover { border-color: #6b7280; }
.audit-user-trigger.has-value { border-color: #2ecc71; background: rgba(46, 204, 113, 0.08); }
.audit-user-summary { margin-top: 6px; font-size: 11px; color: #9aa0a6; }
.audit-user-unreported { margin-top: 4px; font-size: 11px; color: #f1c40f; }
.audit-user-status { display: flex; justify-content: space-between; gap: 10px; font-size: 11px; margin-top: 6px; color: #9aa0a6; }
.audit-group-desc { font-size: 11px; color: #7b7b7b; margin: 6px 0 8px; }
.audit-qty-hint { margin-top: 6px; font-size: 11px; color: #9aa0a6; }
.audit-qty-hint.locked { color: #f1c40f; }
.audit-user-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 10005; }
.audit-user-modal { width: 640px; max-width: 95vw; height: 85vh; background: #252525; border: 1px solid #444; border-radius: 8px; display: flex; flex-direction: column; box-shadow: 0 25px 50px rgba(0,0,0,0.7); }
.audit-user-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #333; }
.audit-user-title { font-size: 14px; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 8px; }
.audit-user-tabs { display: flex; background: #1f1f1f; border-bottom: 1px solid #333; padding: 0 10px; margin-bottom: 10px; }
.audit-user-tab { padding: 12px 14px; font-size: 12px; font-weight: 600; color: #888; cursor: pointer; border-bottom: 2px solid transparent; }
.audit-user-tab.active { color: #4ea8ff; border-bottom-color: #4ea8ff; }
.audit-user-tab .badge { background: #333; color: #aaa; padding: 2px 6px; border-radius: 10px; font-size: 10px; margin-left: 6px; }
.audit-user-tab.active .badge { background: #4ea8ff; color: #0b1220; }
.audit-user-list { flex: 1; overflow-y: auto; padding: 12px; background: #222; }
.audit-user-row { display: flex; justify-content: space-between; align-items: center; background: #2d2d2d; padding: 10px 12px; margin-bottom: 8px; border-radius: 6px; border: 1px solid transparent; cursor: pointer; }
.audit-user-row:hover { background: #353535; }
.audit-user-row.selected { background: rgba(46, 204, 113, 0.08); border-color: #2ecc71; }
.audit-user-row.is-retur { border-left: 3px solid #9b59b6; }
.audit-user-name { font-weight: 600; color: #eee; font-size: 13px; display: flex; align-items: center; gap: 8px; }
.audit-user-meta { font-size: 11px; color: #777; margin-top: 2px; }
.audit-user-badge { font-size: 9px; background: #444; padding: 1px 5px; border-radius: 3px; }
.audit-user-badge.terpakai { background: #2ecc71; color: #0b1220; }
.audit-user-badge.retur { background: #9b59b6; }
.audit-user-check { width: 20px; height: 20px; border: 2px solid #555; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
.audit-user-row.selected .audit-user-check { background: #2ecc71; border-color: #2ecc71; color: #fff; }
.audit-user-check i { font-size: 10px; display: none; }
.audit-user-row.selected .audit-user-check i { display: block; }
.audit-user-footer { padding: 12px 16px; background: #252525; border-top: 1px solid #333; display: flex; align-items: center; justify-content: space-between; }
.audit-user-footer-info { font-size: 12px; color: #aaa; }
.audit-user-footer-info b { color: #2ecc71; }
.audit-user-footer-miss { margin-left: 10px; color: #f1c40f; font-size: 11px; }
.audit-user-footer-actions { display: flex; gap: 8px; }
.audit-modal-desc { margin:6px 0 0; }
.audit-profile-row { display:flex; gap:14px; align-items:center; flex-wrap:nowrap; }
.audit-profile-item { display:flex; align-items:center; gap:8px; }
.audit-profile-item label { display:flex; align-items:center; gap:6px; margin:0; }
.audit-profile-item input[type="number"] { width:90px; padding:6px 8px; }
.audit-table th, .audit-table td { padding:8px 10px; font-size:0.9rem; }
.audit-line { border-bottom:1px dashed #3a4046; padding:2px 0; }
.audit-line:last-child { border-bottom:none; }
.terminal-window { background-color:#000; border:1px solid #555; padding:12px; font-family:'Courier New', Courier, monospace; font-size:12px; max-height:260px; overflow-y:auto; border-radius:4px; color:#d0d0d0; box-shadow: inset 0 0 10px rgba(0,0,0,0.8); }
.terminal-window::-webkit-scrollbar { width:10px; }
.terminal-window::-webkit-scrollbar-track { background:#111; }
.terminal-window::-webkit-scrollbar-thumb { background:#444; border-radius:2px; }
.terminal-window::-webkit-scrollbar-thumb:hover { background:#666; }
.log-entry { margin-bottom:4px; line-height:1.4; display:block; }
.log-prompt { color:#00ff00; margin-right:6px; font-weight:700; }
.log-time { color:#888; margin-right:8px; }
.log-topic { color:#aaa; margin-right:8px; font-weight:bold; }
.log-info { color:#d0d0d0; }
.log-success { color:#00ff00; }
.log-warning { color:#ffeb3b; }
.log-error { color:#ff5252; }
.log-system { color:#00bcd4; }
.cursor-blink { display:inline-block; width:8px; height:15px; background-color:#00ff00; animation: blink 1s infinite; vertical-align:middle; margin-left:5px; }
@keyframes blink { 0%{opacity:0;} 50%{opacity:1;} 100%{opacity:0;} }

/* --- Style Tambahan untuk Form Modal Rich UI --- */

/* Field Readonly yang terlihat seperti Display/Kalkulasi */
.form-input[readonly] {
	background: #1a1d21;
	border-color: #3a4046;
	color: #f39c12;
	font-weight: bold;
	font-family: 'Courier New', monospace;
	cursor: not-allowed;
}

/* Grouping Box di dalam Modal */
.form-group-box {
	background: rgba(255, 255, 255, 0.03);
	border: 1px solid rgba(255, 255, 255, 0.08);
	border-radius: 8px;
	padding: 12px;
	margin-bottom: 12px;
}

.form-group-title {
	font-size: 11px;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	color: #9aa0a6;
	margin-bottom: 8px;
	display: flex;
	align-items: center;
	gap: 6px;
}

/* Setoran Bersih (Hasil Akhir) - styling khusus */
#setoran-bersih-box {
	border: 2px solid #2ecc71;
	background: linear-gradient(135deg, rgba(46, 204, 113, 0.08), rgba(39, 174, 96, 0.05));
	box-shadow: none;
}

#setoran-bersih-box .form-group-title {
	color: #2ecc71;
	font-weight: 700;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

#setoran-bersih-box .form-input {
	background: rgba(0, 0, 0, 0.2);
	border: 1px solid rgba(46, 204, 113, 0.3);
	color: #2ecc71;
	font-weight: 700;
	font-size: 1.1rem;
	text-align: left;
}

#setoran-bersih-box:hover {
	border-color: #27ae60;
	box-shadow: none;
	transform: translateY(-1px);
	transition: all 0.3s ease;
}

@media (max-width: 768px) {
	#setoran-bersih-box {
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
	}
	#setoran-bersih-box .form-input {
		font-size: 1rem;
	}
}

/* Info Banner di dalam modal */
.modal-info-banner {
	display: flex;
	gap: 12px;
	align-items: flex-start;
	background: rgba(52, 152, 219, 0.1);
	border-left: 3px solid #3498db;
	padding: 10px 14px;
	border-radius: 4px;
	margin-bottom: 15px;
}

.modal-info-icon {
	font-size: 18px;
	color: #3498db;
	margin-top: 2px;
}

.modal-info-text {
	font-size: 12px;
	color: #d1d5db;
	line-height: 1.4;
}

/* Label field dengan ikon kecil */
.label-icon {
	display: flex;
	align-items: center;
	gap: 6px;
	margin-bottom: 4px;
	font-size: 12px;
	color: #ccc;
}

.modal-close {
	display: contents;
}

/* --- Pretty Scrollbar untuk Modal dan Komponen Panjang --- */
.modal-body {
	scrollbar-width: thin;
	scrollbar-color: var(--border-col) transparent;
	max-height: 70vh;
	overflow-y: auto;
}

.modal-body::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

.modal-body::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
	border-radius: 4px;
}

.modal-body::-webkit-scrollbar-thumb {
	background: var(--border-col);
	border-radius: 4px;
	border: 2px solid transparent;
	background-clip: content-box;
}

.modal-body::-webkit-scrollbar-thumb:hover {
	background: #6c757d;
	background-clip: content-box;
}

.audit-user-list {
	scrollbar-width: thin;
	scrollbar-color: var(--border-col) #1a1a1a;
}

.audit-user-list::-webkit-scrollbar {
	width: 8px;
}

.audit-user-list::-webkit-scrollbar-track {
	background: #1a1a1a;
	border-radius: 4px;
}

.audit-user-list::-webkit-scrollbar-thumb {
	background: var(--border-col);
	border-radius: 4px;
}

.audit-user-list::-webkit-scrollbar-thumb:hover {
	background: #6c757d;
}

.audit-user-suggest {
	scrollbar-width: thin;
	scrollbar-color: var(--border-col) #1f2328;
}

.audit-user-suggest::-webkit-scrollbar {
	width: 6px;
}

.audit-user-suggest::-webkit-scrollbar-track {
	background: #1f2328;
	border-radius: 3px;
}

.audit-user-suggest::-webkit-scrollbar-thumb {
	background: var(--border-col);
	border-radius: 3px;
}

#ghost-modal .modal-body .table-responsive {
	scrollbar-width: thin;
	scrollbar-color: var(--border-col) #1a1a1a;
}

#ghost-modal .modal-body .table-responsive::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

#ghost-modal .modal-body .table-responsive::-webkit-scrollbar-track {
	background: #1a1a1a;
	border-radius: 4px;
}

#ghost-modal .modal-body .table-responsive::-webkit-scrollbar-thumb {
	background: var(--border-col);
	border-radius: 4px;
}

#ghost-modal .modal-body .table-responsive::-webkit-scrollbar-thumb:hover {
	background: #6c757d;
}

#settlement-log {
	scrollbar-width: thin;
	scrollbar-color: #444 #111;
}

#settlement-log::-webkit-scrollbar {
	width: 10px;
}

#settlement-log::-webkit-scrollbar-track {
	background: #111;
}

#settlement-log::-webkit-scrollbar-thumb {
	background: #444;
	border-radius: 4px;
}

#settlement-log::-webkit-scrollbar-thumb:hover {
	background: #666;
}

.modal-body,
.audit-user-list,
.audit-user-suggest,
#ghost-modal .modal-body .table-responsive {
	scroll-behavior: smooth;
}

.audit-user-list .audit-user-row:hover {
	background: #353535;
	transition: background 0.2s ease;
}

@media (max-width: 768px) {
	.modal-body::-webkit-scrollbar {
		width: 6px;
	}

	.audit-user-list::-webkit-scrollbar {
		width: 5px;
	}

	.modal-body {
		scrollbar-width: thin;
		padding-right: 4px;
	}
}

.modal-body:after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 20px;
	background: linear-gradient(to bottom, transparent, rgba(30, 34, 38, 0.8));
	pointer-events: none;
	opacity: 0;
	transition: opacity 0.3s;
}

.modal-body.scrolled:after {
	opacity: 1;
}